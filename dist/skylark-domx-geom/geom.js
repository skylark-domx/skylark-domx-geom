/**
 * skylark-domx-geom - The skylark geom library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-styler"],function(t,n,o,d){"use strict";var h,r=/^(?:body|html)$/i,i=n.toPixel,l=o.offsetParent;function f(t){var e;return o.isWindow(t)?{left:0,top:0,right:0,bottom:0}:(e=getComputedStyle(t),{left:i(e.borderLeftWidth,t),top:i(e.borderTopWidth,t),right:i(e.borderRightWidth,t),bottom:i(e.borderBottomWidth,t)})}function g(t,e){var i,o,n,h;return void 0===e?r.test(t.nodeName)?{top:0,left:0}:t.getBoundingClientRect():(o=g(i=l(t)),n=m(t),h=f(i),W(t,{top:e.top-o.top-n.top-h.top+(H(i)||0),left:e.left-o.left-n.left-h.left+(x(i)||0)}),this)}function s(t,e){return void 0===e?t==window||t==document.documentElement||t==document.body?{top:0,left:0,bottom:window.innerHeight,right:window.innerWidth,height:window.innerHeight,width:window.innerWidth}:t.getBoundingClientRect?t.getBoundingClientRect():void 0:(g(t,e),c(t,e),this)}function c(t,e){var i,o;return null==e?n.isWindow(t)?{width:t.innerWidth,height:t.innerHeight}:n.isDocument(t)?a(document):{width:t.offsetWidth,height:t.offsetHeight}:(i="border-box"===d.css(t,"box-sizing"),e={width:e.width,height:e.height},i||(i=v(t),o=f(t),void 0!==e.width&&""!==e.width&&null!==e.width&&(e.width=e.width-i.left-i.right-o.left-o.right),void 0!==e.height&&""!==e.height&&null!==e.height&&(e.height=e.height-i.top-i.bottom-o.top-o.bottom)),d.css(t,e),this)}function u(t,e){var i;return null==e?{width:t.clientWidth||t.innerWidth,height:t.clientHeight||t.innerHeight}:(i="border-box"===d.css(t,"box-sizing"),e={width:e.width,height:e.height},i?(i=f(t),void 0!==e.width&&(e.width=e.width+i.left+i.right),void 0!==e.height&&(e.height=e.height+i.top+i.bottom)):(i=v(t),void 0!==e.width&&(e.width=e.width-i.left-i.right),void 0!==e.height&&(e.height=e.height-i.top-i.bottom)),d.css(t,e),this)}function e(t,e){return null==e?w(t).height:(w(t,{height:e}),this)}function w(t,e){var i=u(t),o=v(t);return void 0===e?{width:i.width-o.left-o.right,height:i.height-o.top-o.bottom}:(i="border-box"===d.css(t,"box-sizing"),e={width:e.width,height:e.height},i&&(i=f(t),void 0!==e.width&&""!==e.width&&null!==e.width&&(e.width=e.width+o.left+o.right+i.left+i.right),void 0!==e.height)&&""!==e.height&&null!==e.height&&(e.height=e.height+o.top+o.bottom+i.top+i.bottom),d.css(t,e),this)}function p(t,e){return null==e?w(t).width:(w(t,{width:e}),this)}function a(t){var e=t.documentElement,t=t.body,i=Math.max,o=i(e.scrollWidth,t.scrollWidth),n=i(e.clientWidth,t.clientWidth),h=i(e.offsetWidth,t.offsetWidth),r=i(e.scrollHeight,t.scrollHeight),d=i(e.clientHeight,t.clientHeight);return{width:o<h?n:o,height:r<i(e.offsetHeight,t.offsetHeight)?d:r}}function m(t){return o.isWindow(t)?{left:0,top:0,right:0,bottom:0}:(t=getComputedStyle(t),{left:i(t.marginLeft),top:i(t.marginTop),right:i(t.marginRight),bottom:i(t.marginBottom)})}function v(t){return o.isWindow(t)||o.isDoc(t)?{left:0,top:0,right:0,bottom:0}:(t=getComputedStyle(t),{left:i(t.paddingLeft),top:i(t.paddingTop),right:i(t.paddingRight),bottom:i(t.paddingBottom)})}function b(t,e){var i,o,n;return void 0===e?(n=t.getBoundingClientRect(),i=t.ownerDocument.defaultView,{left:n.left+i.pageXOffset,top:n.top+i.pageYOffset}):(i=b(n=l(t)),o=m(t),n=f(n),W(t,{top:e.top-i.top-o.top-n.top,left:e.left-i.left-o.left-n.left}),this)}function W(t,e){var i,o,n,h,r;return null==e?(h=l(t),r=g(t),i=g(h),o=m(t),n=f(h),{top:r.top-i.top-n.top-o.top,left:r.left-i.left-n.left-o.left}):(h=l(t),r={top:e.top,left:e.left},"static"==d.css(t,"position")&&(r.position="relative"),d.css(t,r),this)}function y(t,e){var i,o,n;return void 0===e?(n=l(t),i=s(t),o=g(n),m(t),n=f(n),{top:i.top-o.top-n.top,left:i.left-o.left-n.left,width:i.width,height:i.height}):(W(t,e),c(t,e),this)}function x(t,e){9===t.nodeType?t=t.defaultView:t==document.body&&(t=document.scrollingElement||document.documentElement);var i="scrollLeft"in t;return void 0===e?i?t.scrollLeft:t.pageXOffset:(i?t.scrollLeft=e:t.scrollTo(e,t.scrollY),this)}function H(t,e){9===t.nodeType?t=t.defaultView:t==document.body&&(t=document.scrollingElement||document.documentElement);var i="scrollTop"in t;return void 0===e?i?t.scrollTop:t.pageYOffset:(i?t.scrollTop=e:t.scrollTo(t.scrollX,e),this)}function T(t){return s(t=t||window)}function O(){return O}return n.mixin(O,{borderExtents:f,boundingHeight:function(t,e){return null==e?c(t).height:(c(t,{height:e}),this)},boundingPosition:g,boundingRect:s,boundingSize:c,boundingWidth:function(t,e){return null==e?c(t).width:(c(t,{width:e}),this)},clientHeight:function(t,e){return null==e?u(t).height:u(t,{height:e})},clientSize:u,clientWidth:function(t,e){return null==e?u(t).width:(u(t,{width:e}),this)},contentHeight:e,contentRect:function(t){var e=u(t);return{left:(t=v(t)).left,top:t.top,width:e.width-t.left-t.right,height:e.height-t.top-t.bottom}},contentSize:w,contentWidth:p,getDocumentSize:a,hasScrollbar:function(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)},height:e,inview:function(t,e){t=s(t),e=e,(i={}).width=(i.right=t.right+(e=+e||0))-(i.left=t.left-e),i.height=(i.bottom=t.bottom+e)-(i.top=t.top-e);var i,t=i,e=T();return!!t&&0<=t.bottom&&0<=t.right&&t.top<=e.height&&t.left<=e.width},isScrolledIntoView:function(t,e){var i,o,n;return"none"!==t.style.display&&(o=(i=container.scrollTop)+container.clientHeight,t=(n=t.offsetTop)+t.clientHeight,i<=n&&n<o||i<=t&&t<o||n<i&&o<=t)},marginExtents:m,marginRect:function(t){var e=y(t),t=m(t);return{left:e.left,top:e.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}},marginSize:function(t){var e=c(t),t=m(t);return{width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}},offsetParent:l,paddingExtents:v,pagePosition:b,pageRect:function(t,e){var i,o;return void 0===e?(i=t.getBoundingClientRect(),o=t.ownerDocument.defaultView,{left:i.left+o.pageXOffset,top:i.top+o.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}):(b(t,e),c(t,e),this)},relativePosition:W,relativeRect:y,scrollbarWidth:function(){var t,e,i;return void 0!==h?h:(i=(e=o.createFragment("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")[0]).childNodes[0],o.append(document.body,e),t=i.offsetWidth,d.css(e,"overflow","scroll"),t===(i=i.offsetWidth)&&(i=e[0].clientWidth),o.remove(e),h=t-i)},scrollIntoView:function(t,e){var i=t.parentNode,o=(n=function(t,e){for(var i,o=t,n=i=0;o&&o!=e&&o.nodeType;)n+=o.offsetLeft||0,i+=o.offsetTop||0,o=o.offsetParent;return{x:n,y:i}}(t,i)).x,n=n.y,h=t.offsetWidth,t=t.offsetHeight,r=i.clientWidth,d=i.clientHeight;return"end"==e?(o-=r-h,n-=d-t):"center"==e&&(o-=r/2-h/2,n-=d/2-t/2),i.scrollLeft=o,i.scrollTop=n,this},scrollLeft:x,scrollTop:H,scrollBy:function(t,e,i){t.scrollLeft+=e,t.scrollTop+=i},size:w,testAxis:function(t){for(var e=t.offsetTop,i=t.offsetLeft,o=t.offsetWidth,n=t.offsetHeight;t.offsetParent;)e+=(t=t.offsetParent).offsetTop,i+=t.offsetLeft;var h={x:0,y:0};return e<window.pageYOffset?h.y=e-window.pageYOffset:e+n>window.pageYOffset+window.innerHeight&&(h.y=e+n-(window.pageYOffset+window.innerHeight)),i<window.pageXOffset?h.x=i-window.pageXOffset:i+o>window.pageXOffset+window.innerWidth&&(h.x=i+o-(window.pageXOffset+window.innerWidth)),h},viewportSize:T,width:p}),t.attach("domx.geom",O)});
//# sourceMappingURL=sourcemaps/geom.js.map
