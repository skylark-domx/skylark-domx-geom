/**
 * skylark-domx-geom - The skylark geom library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-styler"],function(t,e,i,o){"use strict";var n,h=/^(?:body|html)$/i,r=e.toPixel,d=i.offsetParent;function f(t){if(i.isWindow(t))return{left:0,top:0,right:0,bottom:0};var e=getComputedStyle(t);return{left:r(e.borderLeftWidth,t),top:r(e.borderTopWidth,t),right:r(e.borderRightWidth,t),bottom:r(e.borderBottomWidth,t)}}function l(t,e){if(void 0===e)return h.test(t.nodeName)?{top:0,left:0}:t.getBoundingClientRect();var i=d(t),o=l(i),n=m(t),r=f(i);return W(t,{top:e.top-o.top-n.top-r.top+(H(i)||0),left:e.left-o.left-n.left-r.left+(x(i)||0)}),this}function g(t,e){return void 0!==e?(l(t,e),s(t,e),this):t==window||t==document.documentElement||t==document.body?{top:0,left:0,bottom:window.innerHeight,right:window.innerWidth,height:window.innerHeight,width:window.innerWidth}:t.getBoundingClientRect?t.getBoundingClientRect():void 0}function s(t,i){if(void 0==i)return e.isWindow(t)?{width:t.innerWidth,height:t.innerHeight}:e.isDocument(t)?a(document):{width:t.offsetWidth,height:t.offsetHeight};var n="border-box"===o.css(t,"box-sizing"),h={width:i.width,height:i.height};if(!n){var r=v(t),d=f(t);void 0!==h.width&&""!==h.width&&null!==h.width&&(h.width=h.width-r.left-r.right-d.left-d.right),void 0!==h.height&&""!==h.height&&null!==h.height&&(h.height=h.height-r.top-r.bottom-d.top-d.bottom)}return o.css(t,h),this}function u(t,e){if(void 0==e)return{width:t.clientWidth,height:t.clientHeight};var i="border-box"===o.css(t,"box-sizing"),n={width:e.width,height:e.height};if(i){var h=f(t);void 0!==n.width&&(n.width=n.width+h.left+h.right),void 0!==n.height&&(n.height=n.height+h.top+h.bottom)}else{var r=v(t);void 0!==n.width&&(n.width=n.width-r.left-r.right),void 0!==n.height&&(n.height=n.height-r.top-r.bottom)}return o.css(t,n),this}function c(t,e){return void 0==e?w(t).height:(w(t,{height:e}),this)}function w(t,e){var i=u(t),n=v(t);if(void 0===e)return{width:i.width-n.left-n.right,height:i.height-n.top-n.bottom};var h="border-box"===o.css(t,"box-sizing"),r={width:e.width,height:e.height};if(h){var d=f(t);void 0!==r.width&&""!==r.width&&null!==r.width&&(r.width=r.width+n.left+n.right+d.left+d.right),void 0!==r.height&&""!==r.height&&null!==r.height&&(r.height=r.height+n.top+n.bottom+d.top+d.bottom)}return o.css(t,r),this}function p(t,e){return void 0==e?w(t).width:(w(t,{width:e}),this)}function a(t){var e=t.documentElement,i=t.body,o=Math.max,n=o(e.scrollWidth,i.scrollWidth),h=o(e.clientWidth,i.clientWidth),r=o(e.offsetWidth,i.offsetWidth),d=o(e.scrollHeight,i.scrollHeight),f=o(e.clientHeight,i.clientHeight),l=o(e.offsetHeight,i.offsetHeight);return{width:n<r?h:n,height:d<l?f:d}}function m(t){if(i.isWindow(t))return{left:0,top:0,right:0,bottom:0};var e=getComputedStyle(t);return{left:r(e.marginLeft),top:r(e.marginTop),right:r(e.marginRight),bottom:r(e.marginBottom)}}function v(t){if(i.isWindow(t))return{left:0,top:0,right:0,bottom:0};var e=getComputedStyle(t);return{left:r(e.paddingLeft),top:r(e.paddingTop),right:r(e.paddingRight),bottom:r(e.paddingBottom)}}function b(t,e){if(void 0===e){var i=t.getBoundingClientRect(),o=t.ownerDocument.defaultView;return{left:i.left+o.pageXOffset,top:i.top+o.pageYOffset}}var n=d(t),h=b(n),r=m(t),l=f(n);return W(t,{top:e.top-h.top-r.top-l.top,left:e.left-h.left-r.left-l.left}),this}function W(t,e){if(void 0==e){var i=d(t),n=l(t),h=l(i),r=m(t),g=f(i);return{top:n.top-h.top-g.top-r.top,left:n.left-h.left-g.left-r.left}}i=d(t);var s={top:e.top,left:e.left};return"static"==o.css(t,"position")&&(s.position="relative"),o.css(t,s),this}function y(t,e){if(void 0===e){var i=d(t),o=g(t),n=l(i),h=(m(t),f(i));return{top:o.top-n.top-h.top,left:o.left-n.left-h.left,width:o.width,height:o.height}}return W(t,e),s(t,e),this}function x(t,e){9===t.nodeType?t=t.defaultView:t==document.body&&(t=document.scrollingElement||document.documentElement);var i="scrollLeft"in t;return void 0===e?i?t.scrollLeft:t.pageXOffset:(i?t.scrollLeft=e:t.scrollTo(e,t.scrollY),this)}function H(t,e){9===t.nodeType?t=t.defaultView:t==document.body&&(t=document.scrollingElement||document.documentElement);var i="scrollTop"in t;return void 0===e?i?t.scrollTop:t.pageYOffset:(i?t.scrollTop=e:t.scrollTo(t.scrollX,e),this)}function T(t){return g(t=t||window)}function O(){return O}return e.mixin(O,{borderExtents:f,boundingHeight:function(t,e){return void 0==e?s(t).height:(s(t,{height:e}),this)},boundingPosition:l,boundingRect:g,boundingSize:s,boundingWidth:function(t,e){return void 0==e?s(t).width:(s(t,{width:e}),this)},clientHeight:function(t,e){return void 0==e?u(t).height:u(t,{height:e})},clientSize:u,clientWidth:function(t,e){return void 0==e?u(t).width:(u(t,{width:e}),this)},contentHeight:c,contentRect:function(t){var e=u(t),i=v(t);return{left:i.left,top:i.top,width:e.width-i.left-i.right,height:e.height-i.top-i.bottom}},contentSize:w,contentWidth:p,getDocumentSize:a,hasScrollbar:function(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)},height:c,inview:function(t,e){var i=function(t,e){var i={};return e=+e||0,i.width=(i.right=t.right+e)-(i.left=t.left-e),i.height=(i.bottom=t.bottom+e)-(i.top=t.top-e),i}(g(t),e),o=T();return!!i&&i.bottom>=0&&i.right>=0&&i.top<=o.height&&i.left<=o.width},marginExtents:m,marginRect:function(t){var e=y(t),i=m(t);return{left:e.left,top:e.top,width:e.width+i.left+i.right,height:e.height+i.top+i.bottom}},marginSize:function(t){var e=s(t),i=m(t);return{width:e.width+i.left+i.right,height:e.height+i.top+i.bottom}},offsetParent:d,paddingExtents:v,pagePosition:b,pageRect:function(t,e){if(void 0===e){var i=t.getBoundingClientRect(),o=t.ownerDocument.defaultView;return{left:i.left+o.pageXOffset,top:i.top+o.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}}return b(t,e),s(t,e),this},relativePosition:W,relativeRect:y,scrollbarWidth:function(){if(void 0!==n)return n;var t,e,h=i.createFragment("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")[0],r=h.childNodes[0];return i.append(document.body,h),t=r.offsetWidth,o.css(h,"overflow","scroll"),t===(e=r.offsetWidth)&&(e=h[0].clientWidth),i.remove(h),n=t-e},scrollIntoView:function(t,e){var i,o,n,h,r,d,f=t.parentNode,l=function(t,e){var i,o,n=t;for(i=o=0;n&&n!=e&&n.nodeType;)i+=n.offsetLeft||0,o+=n.offsetTop||0,n=n.offsetParent;return{x:i,y:o}}(t,f);return i=l.x,o=l.y,n=t.offsetWidth,h=t.offsetHeight,r=f.clientWidth,d=f.clientHeight,"end"==e?(i-=r-n,o-=d-h):"center"==e&&(i-=r/2-n/2,o-=d/2-h/2),f.scrollLeft=i,f.scrollTop=o,this},scrollLeft:x,scrollTop:H,scrollBy:function(t,e,i){t.scrollLeft+=e,t.scrollTop+=i},size:w,testAxis:function(t){for(var e=t.offsetTop,i=t.offsetLeft,o=t.offsetWidth,n=t.offsetHeight;t.offsetParent;)e+=(t=t.offsetParent).offsetTop,i+=t.offsetLeft;var h={x:0,y:0};return e<window.pageYOffset?h.y=e-window.pageYOffset:e+n>window.pageYOffset+window.innerHeight&&(h.y=e+n-(window.pageYOffset+window.innerHeight)),i<window.pageXOffset?h.x=i-window.pageXOffset:i+o>window.pageXOffset+window.innerWidth&&(h.x=i+o-(window.pageXOffset+window.innerWidth)),h},viewportSize:T,width:p}),t.attach("domx.geom",O)});
//# sourceMappingURL=sourcemaps/geom.js.map
